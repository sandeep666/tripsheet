(window.webpackJsonprostrweb=window.webpackJsonprostrweb||[]).push([[0],{188:function(e,t,a){e.exports=a(306)},193:function(e,t,a){},194:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},195:function(e,t,a){},282:function(e,t,a){e.exports=a.p+"static/media/review.d7620c6c.png"},302:function(e,t,a){e.exports=a.p+"static/media/404.c86fb8f0.png"},306:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(13),i=a.n(r),l=(a(193),a(33)),c=a(23),s=a(47),p=a(48),u=a(53),d=(a(194),a(195),a(56)),m=a(8),g=a(164),h=a(16),f=a(341),b=a(342),E=a(339),w=a(172),v=a(340),y=a(359),k=a(354),O=a(81),C=a.n(O),j=a(55),S=a.n(j),N=a(343),x=a(344),T=Object(g.a)((function(e){return{grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(m.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(m.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(h.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(h.b)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},sectionDesktop:Object(m.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(m.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),bigAvatar:{margin:10,width:50,height:50}}}));function I(e){var t=T(),a=e.data.transporter.name,n=o.a.useState(null),r=Object(d.a)(n,2),i=r[0],l=r[1],c=o.a.useState(null),s=Object(d.a)(c,2),p=s[0],u=s[1],m=Boolean(i),g=Boolean(p),h="profileImage"in e.data.transporter?"http://ec2-13-250-126-239.ap-southeast-1.compute.amazonaws.com".concat(e.data.transporter.profileImage):"http://www.gravatar.com/avatar/3b3be63a4c2a439b013787725dfce802?d=identicon";function O(){u(null)}function j(){l(null),O()}console.log(h);var I=o.a.createElement(k.a,{anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:m,onClose:j},o.a.createElement(y.a,{onClick:j},"Profile"),o.a.createElement(y.a,{onClick:j},"My account")),z=o.a.createElement(k.a,{anchorEl:p,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:g,onClose:O},o.a.createElement(y.a,null,o.a.createElement(E.a,{"aria-label":"show 11 new notifications",color:"inherit"},o.a.createElement(v.a,{badgeContent:11,color:"secondary"},o.a.createElement(S.a,null))),o.a.createElement("p",null,"Notifications")),o.a.createElement(y.a,{onClick:function(e){l(e.currentTarget)}},o.a.createElement(E.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},o.a.createElement(C.a,null)),o.a.createElement("p",null,"Profile")));return o.a.createElement("div",{className:t.grow},o.a.createElement(f.a,{position:"static"},o.a.createElement(b.a,null,o.a.createElement(N.a,{className:t.bigAvatar,alt:"Profile Picture",src:h}),o.a.createElement("div",null,o.a.createElement(x.a,{container:!0,justify:"center",direction:"column",alignItems:"flex-start"},o.a.createElement(w.a,{style:{fontSize:18,fontWeight:"bold"}},a))))),z,I)}var z=a(82),M=a.n(z),W=Object(g.a)((function(e){return{grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(m.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(m.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(h.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(h.b)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},sectionDesktop:Object(m.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(m.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),bigAvatar:{margin:10,width:50,height:50}}}));function D(e){console.log("Footer",e);var t=e.data.driver.name,a=e.data.driver.mobileNo,n="vehicle"in e.data?e.data.vehicle.vehicleType:"",r="vehicle"in e.data?e.data.vehicle.regNumber:"",i=W(),l=o.a.useState(null),c=Object(d.a)(l,2),s=c[0],p=c[1],u=o.a.useState(null),m=Object(d.a)(u,2),g=m[0],h=m[1],O=Boolean(s),j=Boolean(g);function T(){h(null)}function I(){p(null),T()}function z(){console.log("test",navigator.share),navigator.share&&navigator.share({title:"Web Fundamentals",text:"Check out Web Fundamentals \u2014 it rocks!",url:"https://developers.google.com/web"}).then((function(){return console.log("Successful share")})).catch((function(e){return console.log("Error sharing",e)}))}var D=o.a.createElement(k.a,{anchorEl:s,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:O,onClose:I},o.a.createElement(y.a,{onClick:I},"Profile"),o.a.createElement(y.a,{onClick:I},"My account")),A="primary-search-account-menu-mobile",R=o.a.createElement(k.a,{anchorEl:g,anchorOrigin:{vertical:"top",horizontal:"right"},id:A,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:j,onClose:T},o.a.createElement(y.a,null,o.a.createElement(E.a,{"aria-label":"show 11 new notifications",color:"inherit"},o.a.createElement(v.a,{badgeContent:11,color:"secondary"},o.a.createElement(S.a,null))),o.a.createElement("p",null,"Notifications")),o.a.createElement(y.a,{onClick:function(e){p(e.currentTarget)}},o.a.createElement(E.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},o.a.createElement(C.a,null)),o.a.createElement("p",null,"Profile")));return o.a.createElement("div",{className:i.grow},o.a.createElement(f.a,{style:{backgroundColor:"#fff"},position:"static"},o.a.createElement(b.a,null,o.a.createElement(N.a,{className:i.bigAvatar,alt:"Profile Picture",src:"http://www.gravatar.com/avatar/3b3be63a4c2a439b013787725dfce802?d=identicon"}),o.a.createElement("div",null,o.a.createElement(x.a,{container:!0,justify:"center",direction:"column",alignItems:"flex-start"},o.a.createElement(w.a,{style:{fontSize:14,fontWeight:"bold",color:"#000"}},t),o.a.createElement(w.a,{style:{fontSize:10,color:"#000"}},n," - ",r))),o.a.createElement("div",{className:i.grow}),o.a.createElement("div",{className:i.sectionDesktop},o.a.createElement(E.a,{"aria-label":"show 17 new notifications",color:"#000"},o.a.createElement(S.a,null)),o.a.createElement(E.a,{onClick:z,"aria-label":"show 4 new mails",color:"inherit"},o.a.createElement(M.a,null))),o.a.createElement("div",{className:i.sectionMobile},o.a.createElement(E.a,{style:{color:"#000"},"aria-label":"show more","aria-controls":A,"aria-haspopup":"true",href:"tel:".concat(a),color:"inherit"},o.a.createElement(S.a,{style:{fontSize:18}})),o.a.createElement(E.a,{style:{color:"#000"},"aria-label":"show more","aria-controls":A,"aria-haspopup":"true",onClick:z,color:"inherit"},o.a.createElement(M.a,{style:{fontSize:18}}))))),R,D)}var A=a(57),R=a(309),B=a(345),F=a(167),P=a.n(F),L=a(168),G=a.n(L),U=a(166),J=a.n(U),X=a(356),Y=a(349),K=a(347),Q=a(348),H=a(346),V=a(350),Z=(Object(g.a)((function(e){return{button:{margin:e.spacing(1)},input:{display:"none"}}})),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(p.a)(t).call(this,e))).classes=function(){return Object(g.a)((function(e){var t;return t={button:{margin:e.spacing(1)},input:{display:"none"},paper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,whiteSpace:"nowrap"},root:{padding:"2px 4px",display:"flex",alignItems:"center",width:400}},Object(m.a)(t,"input",{marginLeft:e.spacing(1),flex:1}),Object(m.a)(t,"iconButton",{padding:10}),Object(m.a)(t,"divider",{height:28,margin:4}),t}))},a.onInfoWindowClose=function(){console.log("test")},a.start=function(e){console.log("START"),a.setState({tripStatus:"Hold for 3 seconds to initiate panic mode"})},a.end=function(e,t){console.log(t),console.log(t?"Click released after enough time":"Click released too soon"),t||a.setState({tripStatus:"Trip Status - NOT STARTED"})},a.clickNHold=function(e){console.log(e),a.setState({tripStatus:"Trip Status - NOT STARTED"}),alert("Panic mode is initiated")},a.handleClose=function(){a.setState((function(e){return{dialogOpen:!e.dialogOpen}}))},a.handleNoteDialog=function(){a.setState((function(e){return{openNoteDialog:!e.openNoteDialog}}))},a.state={tripStatus:"Trip Status - NOT STARTED",dialogOpen:!1,openNoteDialog:!1},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){for(var e=("notes"in this.props.data?this.props.data.notes:""),t=("source"in this.props.data?this.props.data.source.location:""),n=("destination"in this.props.data?this.props.data.destination.location:""),r="+91"+this.props.data.transporter.support.whatsApp,i=("transporter"in this.props.data?this.props.data.transporter.support.email:""),l=("transporter"in this.props.data?this.props.data.transporter.support.contactNumber:""),c=("transporter"in this.props.data?this.props.data.transporter.placeId:""),s=[{lat:t.lat,lng:t.long},{lat:n.lat,lng:n.long}],p=new this.props.google.maps.LatLngBounds,u=0;u<s.length;u++)p.extend(s[u]);return console.log(p),o.a.createElement(x.a,{container:!0},o.a.createElement(A.Map,{zoomControl:!1,mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,rotateControl:!1,fullscreenControl:!1,google:this.props.google,zoom:10,style:q,initialCenter:{lat:n.lat,lng:n.long},bounds:!0},o.a.createElement(A.Polyline,{path:s,strokeColor:"#0000FF",strokeOpacity:.8,strokeWeight:2}),o.a.createElement(A.Marker,{position:{lat:t.lat,lng:t.long}}),o.a.createElement(A.Marker,{position:{lat:n.lat,lng:n.long}}),o.a.createElement("div",{style:{marginTop:200,position:"absolute",marginLeft:12}},o.a.createElement("a",{target:"_",href:"https://search.google.com/local/writereview?placeid=".concat(c)},o.a.createElement("img",{style:{width:100,height:40},src:a(282)})))),o.a.createElement(x.a,{item:!0,xs:12,sm:!0,container:!0,style:{position:"absolute",justifyContent:"center",marginTop:12}},o.a.createElement(R.a,{style:{padding:"2px 4px",display:"flex",alignItems:"center",width:.8*window.width}},o.a.createElement(w.a,{style:{fontSize:10,margin:12}},this.state.tripStatus),o.a.createElement(E.a,{onClick:this.handleClose,color:"primary",style:{padding:10},"aria-label":"Help"},o.a.createElement(P.a,null)),o.a.createElement(B.a,{style:{height:28,margin:4},orientation:"vertical"}),o.a.createElement(J.a,null,o.a.createElement(E.a,{onClick:this.handleNoteDialog,color:"primary","aria-label":"directions"},o.a.createElement(G.a,null))))),o.a.createElement(X.a,{open:this.state.dialogOpen,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.a.createElement(H.a,{id:"alert-dialog-title"},"Support"),o.a.createElement(K.a,null,o.a.createElement(Q.a,{id:"alert-dialog-description"},"Whatsapp : ",o.a.createElement("a",{href:"https://api.whatsapp.com/send?phone=".concat(r)}," ",r),o.a.createElement("br",null),o.a.createElement("br",null),"Mobile :",o.a.createElement("a",{href:"tel:".concat(l)}," ",l," ")," ",o.a.createElement("br",null),o.a.createElement("br",null),"Email : ",o.a.createElement("a",{href:"mailto:".concat(i)}," ",i))),o.a.createElement(Y.a,null,o.a.createElement(V.a,{onClick:this.handleClose,color:"primary",autoFocus:!0},"OK"))),o.a.createElement(X.a,{fullWidth:!0,maxWidth:!0,open:this.state.openNoteDialog,onClose:this.handleNoteDialog,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.a.createElement(H.a,{id:"alert-dialog-title"},"Note"),o.a.createElement(K.a,null,o.a.createElement(Q.a,{id:"alert-dialog-description"},e)),o.a.createElement(Y.a,null,o.a.createElement(V.a,{onClick:this.handleNoteDialog,color:"primary",autoFocus:!0},"OK"))))}}]),t}(n.Component)),q={width:"100%",height:"100%"},$=Object(A.GoogleApiWrapper)({apiKey:"AIzaSyD1csc0XOaHwLmhCoSNgq-xb6NgZke7NBM"})(Z),_=a(169),ee=(a(307),_.initializeApp({messagingSenderId:"345561780700"}).messaging());ee.usePublicVapidKey("BEEO-sYoFUH7FYyczaPPdK6ZX-FQb6YvcCMgaCFVcbcTQ4Uz8udeD7ahuKlX68OBU8w5TSW7naWuWM0me1qBQGw");var te=a(111),ae=a.n(te),ne=a(353),oe=a(357),re=a(358),ie=a(112),le=a.n(ie),ce=a(170),se=a(351),pe=a(352);Object(g.a)((function(e){return{icon:{marginRight:e.spacing(2)},heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6)},heroButtons:{marginTop:e.spacing(4)},cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1},footer:{backgroundColor:"black",padding:e.spacing(6)}}}));var ue=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(p.a)(t).call(this,e))).getTripInfo=function(e){ae.a.get("http://ec2-13-250-126-239.ap-southeast-1.compute.amazonaws.com/trips/trip/".concat(e),{headers:{Authorization:"Bearer ".concat("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVkYTQ3M2QxNzAwZWI2MzlkYTI2NWY5NyIsImlhdCI6MTU3MTA1ODY0MX0.wu9cu62G9NmQIo1XX8Sd79abohDSjBJGFsukD7RLaJs")}}).then((function(e){console.log("trips",e),a.setState({trip:e.data,loaded:!0})})).catch((function(e){a.setState({showNoDataMessage:!0}),console.log(e)}))},a.state={trip:void 0,loaded:!1,showNoDataMessage:!1},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.getTripInfo(e),ee.requestPermission().then(Object(ce.a)(le.a.mark((function e(){var t;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.getToken();case 2:t=e.sent,console.log(t);case 4:case"end":return e.stop()}}),e)})))).catch((function(e){console.log("Unable to get permission to notify.",e)})),navigator.serviceWorker.addEventListener("message",(function(e){return console.log(e)}))}},{key:"render",value:function(){return console.log(this.props.match.params.id),o.a.createElement(o.a.Fragment,null,this.state.showNoDataMessage?o.a.createElement(o.a.Fragment,null,o.a.createElement("img",{style:{width:"100%",height:"100%"},src:a(302)})):o.a.createElement(o.a.Fragment,null,o.a.createElement(se.a,null),o.a.createElement(f.a,{position:"relative"},this.state.loaded?o.a.createElement(I,{data:this.state.trip}):o.a.createElement(n.Fragment,null)),o.a.createElement("main",null,this.state.loaded?o.a.createElement($,{data:this.state.trip}):o.a.createElement(n.Fragment,null)),o.a.createElement(pe.a,{style:{}}),o.a.createElement("footer",{style:{position:"absolute",bottom:0,width:"100%",height:"60"}},this.state.loaded?o.a.createElement(D,{data:this.state.trip}):o.a.createElement(n.Fragment,null))))}}]),t}(o.a.Component),de=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(ne.a,null,o.a.createElement(oe.a,null,o.a.createElement(re.a,{exact:!0,path:"/:id",component:ue})))}}]),t}(o.a.Component),me=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ge(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(o.a.createElement(de,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/sandeep666/tripsheet.git",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/sandeep666/tripsheet.git","/service-worker.js");me?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ge(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ge(t,e)}))}}(),"serviceWorker"in navigator&&navigator.serviceWorker.register("./firebase-messaging-sw.js").then((function(e){console.log("Registration successful, scope is:",e.scope)})).catch((function(e){console.log("Service worker registration failed, error:",e)}))}},[[188,1,2]]]);
//# sourceMappingURL=main.35c10e1b.chunk.js.map